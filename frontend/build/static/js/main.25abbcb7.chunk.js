(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{107:function(e,a,t){},109:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),c=t(31),l=t.n(c),s=t(87),i=t(77),o=t(54);function u(){var e=Object(i.a)(["\nquery filter($name: String,$page: Int) {\n    search(track: $name,page: $page) \n    {\n          tracks\n          total\n    }\n  }"]);return u=function(){return e},e}var m={search:Object(o.a)(u())},p=t(76),E=t(111),d=t(115),v=t(21),g=function(e,a,t){return{type:"UPDATE",data:{start:e,last:a,currentPage:t}}},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{start:1,last:10,searchvalue:"",currentPage:1},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET":return{start:a.data.start,last:a.data.last,searchvalue:a.data.searchvalue,currentPage:a.data.currentPage};case"UPDATE":return{start:a.data.start,last:a.data.last,searchvalue:e.searchvalue,currentPage:a.data.currentPage};case"SETPAGE":return{start:e.start,last:e.last,searchvalue:e.searchvalue,currentPage:a.data.currentPage};default:return e}},f=t(116),b=function(e){var a=Object(v.c)((function(e){return e})),t=Object(v.b)(),r=[],c=function(r){var n,c=r.target;n=c.innerText.includes("\xbb")?a.pagination.last+1:c.innerText.includes("\xab")?a.pagination.start-1:Number(c.innerText),e.searchObject({variables:{name:a.pagination.searchvalue,page:n}}),n>a.pagination.last?t(g(n,n+9,n)):n<a.pagination.start?t(g(n-9,n,n)):t({type:"SETPAGE",data:{currentPage:n}})},l=a.pagination.last;l=e.total<l?e.total:l;for(var s=a.pagination.start;s<l+1;s++)r.push(s);return n.a.createElement(f.a,null,a.pagination.start>10?n.a.createElement(f.a.First,{onClick:c}):"",r.map((function(e){return n.a.createElement(f.a.Item,{active:e===a.pagination.currentPage,key:Math.ceil(1e5*Math.random()),onClick:c},e)})),e.total<a.pagination.last?"":n.a.createElement(f.a.Last,{onClick:c}))},x=function(e){var a=e.searchResult,t=Object(v.b)();return n.a.createElement("div",null,n.a.createElement("div",{className:"container"},n.a.createElement("form",{onSubmit:function(a){a.preventDefault();var r=a.target[0],n=r.value;r.value="",e.searchAction({variables:{name:n,page:1}}),t({type:"SET",data:{start:1,last:10,searchvalue:n,currentPage:1}})}},n.a.createElement("div",{className:"form-group row"},n.a.createElement("div",{className:"col-xs-2"},n.a.createElement("div",null,n.a.createElement("input",{className:"form-control",id:"ex1",type:"text"})))),n.a.createElement("div",{className:"form-group row"},n.a.createElement("div",{className:"col-xs-2"},n.a.createElement(E.a,{type:"submit",variant:"primary"},"Search ")))),n.a.createElement(d.a,{variant:"flush"},a?a.search.tracks.map((function(e){return n.a.createElement("div",{key:Math.ceil(1e5*Math.random()),className:"form-group row"},n.a.createElement("div",{className:"col-xs-2"},n.a.createElement(d.a.Item,null,e)))})):"")),a?n.a.createElement(b,{total:a.search.total,searchObject:e.searchAction}):"")},y=t(112),S=t(113),P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{text:""},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_MESSAGE":case"CLEAR_MESSAGE":return{text:a.data.text};default:return e}},j=0,O=t(114),w=function(e){return e.text?n.a.createElement(O.a,{variant:"danger"}," ",e.text," "):n.a.createElement("div",null,n.a.createElement("div",null))},k=function(){var e,a,t=Object(p.a)(m.search,{fetchPolicy:"network-only",errorPolicy:"all"}),r=Object(s.a)(t,2),c=r[0],l=r[1],i=(l.loading,l.error),o=l.data,u=Object(v.b)(),E=Object(v.c)((function(e){return e}));return i&&i.message!==E.message.text&&u((e=i.message,a=5e3,function(t){0===j&&(t({type:"SET_MESSAGE",data:{text:e}}),j=window.setTimeout((function(){t({type:"CLEAR_MESSAGE",data:{text:""}}),j=0}),a))})),n.a.createElement("div",null,n.a.createElement(y.a,{className:"search"},n.a.createElement(S.a,null,n.a.createElement("div",{className:"col-xs-2"},n.a.createElement(w,{text:E.message.text}),n.a.createElement(x,{searchAction:c,searchResult:o})))))},A=t(40),T=t(52),N=t(53),M=t(75),G=(t(107),t(85)),C=t(36),R=t(86),D=Object(C.combineReducers)({pagination:h,message:P}),I=Object(C.createStore)(D,Object(G.composeWithDevTools)(Object(C.applyMiddleware)(R.a))),$=new A.a({uri:"https://testappproject1.herokuapp.com/graphql"}),_=new T.a({cache:new N.a,link:$});l.a.render(n.a.createElement(v.a,{store:I},n.a.createElement(M.a,{client:_},n.a.createElement(k,null))),document.getElementById("root"))},95:function(e,a,t){e.exports=t(109)}},[[95,1,2]]]);
//# sourceMappingURL=main.25abbcb7.chunk.js.map